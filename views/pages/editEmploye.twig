{% extends "../layouts/base.twig" %}
{% block style %}
	<link rel="stylesheet" href="../assets/css/output.css">
{% endblock %}

{% block title %}
	<title>Modifier un/e employé/e</title>
{% endblock %}

{% block main %}
	<main class="bg-[rgb(191,167,127)] min-h-screen py-12 px-4">
		<div class="container mx-auto bg-white rounded-lg shadow-xl p-6">
			<h1 class="text-4xl font-bold text-black mb-8">Modifier un/e employé/e</h1>
			<form action="/editEmploye/{{employe.id}}" method="POST" enctype="multipart/form-data" class="space-y-4">
				<input
				type="hidden" name="employeId" value="{{ employe.id }}">

				<!-- Nouvelle section pour la photo -->
				<div class="mb-6">
					<label for="photo" class="block text-sm font-medium text-black mb-2">Photo de l'employé</label>
					<div class="flex items-center space-x-4">
						{% if employe.photo %}
							<img src="{{ employe.photo }}" alt="Photo actuelle" class="w-24 h-24 object-cover rounded-full">
						{% else %}
							<div class="w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center">
								<span class="text-gray-600 text-xl">{{ employe.firstname|first }}{{ employe.lastname|first }}</span>
							</div>
						{% endif %}
						<input type="file" id="photo" name="photo" accept="image/*" class="border border-[rgb(191,167,127)] rounded-md shadow-sm p-2">
					</div>
					<p class="text-sm text-gray-500 mt-1">Laissez vide pour conserver la photo actuelle</p>
				</div>

				<div>
					<label for="firstname" class="block text-sm font-medium text-black">Prénom</label>
					<input type="text" class="mt-1 block w-full border border-[rgb(191,167,127)] rounded-md shadow-sm focus:ring focus:ring-[rgb(191,167,127)] focus:border-[rgb(191,167,127)] p-2" id="firstname" name="firstname" value="{{ employe.firstname }}" required>
				</div>
				<div>
					<label for="lastname" class="block text-sm font-medium text-black">Nom</label>
					<input type="text" class="mt-1 block w-full border border-[rgb(191,167,127)] rounded-md shadow-sm focus:ring focus:ring-[rgb(191,167,127)] focus:border-[rgb(191,167,127)] p-2" id="lastname" name="lastname" value="{{ employe.lastname }}" required>
				</div>
				<div>
					<label for="mail" class="block text-sm font-medium text-black">Email</label>
					<input type="email" class="mt-1 block w-full border border-[rgb(191,167,127)] rounded-md shadow-sm focus:ring focus:ring-[rgb(191,167,127)] focus:border-[rgb(191,167,127)] p-2" id="mail" name="mail" value="{{ employe.mail }}" required>
				</div>
				<div>
					<label for="age" class="block text-sm font-medium text-black">Âge</label>
					<input type="number" class="mt-1 block w-full border border-[rgb(191,167,127)] rounded-md shadow-sm focus:ring focus:ring-[rgb(191,167,127)] focus:border-[rgb(191,167,127)] p-2" id="age" name="age" value="{{ employe.age }}" required>
				</div>
				<div>
					<label for="sexe" class="block text-sm font-medium text-black">Sexe</label>
					<select class="mt-1 block w-full border border-[rgb(191,167,127)] rounded-md shadow-sm focus:ring focus:ring-[rgb(191,167,127)] focus:border-[rgb(191,167,127)] p-2" id="sexe" name="sexe" required>
						<option value="M" {% if employe.sexe == 'M' %} selected {% endif %}>Masculin</option>
						<option value="F" {% if employe.sexe == 'F' %} selected {% endif %}>Féminin</option>
						<option value="Autre" {% if employe.sexe == 'Autre' %} selected {% endif %}>Autre</option>
					</select>
				</div>
				<div>
					<label for="fonction" class="block text-sm font-medium text-black">Fonction</label>
					<input type="text" class="mt-1 block w-full border border-[rgb(191,167,127)] rounded-md shadow-sm focus:ring focus:ring-[rgb(191,167,127)] focus:border-[rgb(191,167,127)] p-2" id="fonction" name="fonction" value="{{ employe.fonction }}" required>
				</div>

				<button class="bg-[rgb(191,167,127)] text-black py-2 px-4 rounded hover:bg-[rgba(191,167,127,.8)]">Mettre à jour</button>
			</form>
			<a href="/" class="mt-4 inline-block bg-gray-200 text-black py-2 px-4 rounded hover:bg-gray-300">Retourner au tableau de bord</a>
		</div>
	</main>
{% endblock %}
