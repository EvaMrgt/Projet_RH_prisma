{% extends "../layouts/base.twig" %}
{% block style %}
	<link rel="stylesheet" href="../assets/css/output.css">
{% endblock %}
{% block title %}
	<title>Modifier mon profil</title>
{% endblock %}

{% block main %}
	<main class="bg-[rgb(191,167,127)] min-h-screen py-12 px-4">
		<div class="container mx-auto max-w-md">
			<h1 class="text-3xl font-bold text-black mb-8">Modifier mon profil</h1>

			{% if successMessage %}
				<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" role="alert">
					<span class="block sm:inline">{{ successMessage }}</span>
				</div>
			{% endif %}

			{% if errorMessage %}
				<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
					<span class="block sm:inline">{{ errorMessage }}</span>
				</div>
			{% endif %}

			<form action="/editProfile" method="POST" enctype="multipart/form-data" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
				<div class="mb-4">
					<label class="block text-gray-700 text-sm font-bold mb-2" for="mail">
						Email
					</label>
					<input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="mail" type="email" name="mail" value="{{ employe.mail }}" required>
				</div>
				<div class="mb-4">
					<label class="block text-gray-700 text-sm font-bold mb-2" for="password">
						Mot de passe actuel
					</label>
					<input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" id="password" type="password" name="password" required>
				</div>
				<div class="mb-4">
					<label class="block text-gray-700 text-sm font-bold mb-2" for="newPassword">
						Nouveau mot de passe (laisser vide pour ne pas changer)
					</label>
					<input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" id="newPassword" type="password" name="newPassword">
				</div>
				<div class="mb-4">
					<label class="block text-gray-700 text-sm font-bold mb-2" for="photo">
						Photo de profil
					</label>
					<input type="file" name="photo" id="photo" accept="image/*" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
				</div>
				{% if employe.photo %}
					<div class="mb-4">
						<img src="{{ employe.photo }}" alt="Photo de profil actuelle" class="w-32 h-32 object-cover rounded-full">
					</div>
				{% endif %}
				<div class="flex items-center justify-between">
					<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
						Mettre Ã  jour
					</button>
				</div>
			</form>
			<a href="/homeEmploye" class="mt-4 inline-block bg-gray-200 text-black py-2 px-4 rounded hover:bg-gray-300">Retourner au tableau de bord</a>
		</div>
	</main>
{% endblock %}
